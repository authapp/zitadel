# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=zitadel
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Server Configuration
PORT=8080
HOST=0.0.0.0
NODE_ENV=development

# External Domain
EXTERNAL_DOMAIN=localhost:8080
EXTERNAL_SECURE=false

# Encryption Keys (Generate secure keys in production)
ENCRYPTION_KEY=your-32-byte-encryption-key-here
ENCRYPTION_KEY_ID=v1

# JWT Configuration
JWT_SECRET=your-jwt-secret-key
JWT_ISSUER=zitadel
JWT_EXPIRES_IN=3600

# Session Configuration
SESSION_TOKEN_LIFETIME=86400
REFRESH_TOKEN_LIFETIME=2592000
REFRESH_TOKEN_IDLE_LIFETIME=1296000

# SMTP Configuration (Email Notifications)
# Supports: Gmail, SendGrid, AWS SES, Mailgun, any SMTP server
# See EMAIL_CONFIGURATION.md for provider-specific setup
SMTP_HOST=smtp.gmail.com         # SMTP server host
SMTP_PORT=587                    # SMTP server port (587 for TLS, 465 for SSL)
SMTP_USER=                       # SMTP username/email
SMTP_PASSWORD=                   # SMTP password or API key
SMTP_FROM=noreply@yourdomain.com # Sender email address
SMTP_FROM_NAME=Zitadel           # Sender display name
SMTP_SECURE=false                # true for port 465 (SSL), false for 587 (STARTTLS)
SMTP_REPLY_TO=                   # Optional reply-to address
SMTP_TLS_FALLBACK=false          # Enable automatic TLS fallback (tries 465->587->25)

# SMS Configuration (Twilio)
TWILIO_ACCOUNT_SID=                  # Twilio Account SID
TWILIO_AUTH_TOKEN=                   # Twilio Auth Token
TWILIO_PHONE_NUMBER=                 # Twilio phone number (e.g., +1234567890)
TWILIO_VERIFY_SERVICE_SID=           # Optional: Twilio Verify Service SID (recommended for OTP)

# SMS Webhook Provider (Optional)
WEBHOOK_SMS_URL=                     # Webhook endpoint URL for SMS delivery
WEBHOOK_SMS_METHOD=POST              # HTTP method (POST or PUT)
WEBHOOK_SMS_TIMEOUT=30000            # Request timeout in ms
WEBHOOK_SMS_RETRIES=0                # Number of retry attempts
WEBHOOK_SMS_HEADERS=                 # Custom headers as JSON (e.g., {"X-API-Key": "secret"})

# Email Webhook Provider (Optional)
WEBHOOK_EMAIL_URL=                   # Webhook endpoint URL for email delivery
WEBHOOK_EMAIL_METHOD=POST            # HTTP method (POST or PUT)
WEBHOOK_EMAIL_TIMEOUT=30000          # Request timeout in ms
WEBHOOK_EMAIL_RETRIES=0              # Number of retry attempts
WEBHOOK_EMAIL_HEADERS=               # Custom headers as JSON (e.g., {"X-API-Key": "secret"})

# Email FileSystem Provider (Debug/Development)
EMAIL_FS_OUTPUT_DIR=                 # Directory to write email files (e.g., ./debug-emails)
EMAIL_FS_FORMAT=json                 # Output format: json, html, text, or eml
EMAIL_FS_PRETTY_PRINT=true           # Pretty print JSON output

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Telemetry
ENABLE_METRICS=true
ENABLE_TRACING=false
TRACING_ENDPOINT=

# Feature Flags
ENABLE_ACTIONS=true
ENABLE_WEBHOOKS=true
